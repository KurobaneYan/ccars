{"version":3,"sources":["webpack:///webpack/bootstrap b352296119b9c522c7af","webpack:///./js/admin.js","webpack:///./js/car.js","webpack:///./js/filter.js","webpack:///./js/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA,uBAAuB;AACvB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;ACnHD;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAA;AAAA;;;;;;;;ACnBD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAA;AAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,WAAW;AACX,GAAG;AACH;;;;;;;;;;;;AC9Q0B;AACH;AACE;;AAEzB,qBAAqB,sDAAsD;;AAE3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA,uCAAuC,wBAAwB;AAC/D,yCAAyC,6EAAyB;AAClE,uCAAuC,2EAAwB;AAC/D;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b352296119b9c522c7af","const baseUrl = 'http://localhost:3000/api/cars/'\n\nconst carData = new kendo.data.DataSource({\n  transport: {\n    read: {\n      url: baseUrl,\n      dataType: 'json'\n    },\n    update: {\n      url: baseUrl + 'update',\n      dataType: 'json',\n      type: 'post'\n    },\n    create: {\n      url: baseUrl + 'create',\n      dataType: 'json',\n      type: 'post'\n    },\n    destroy: {\n      url: baseUrl + 'destroy',\n      dataType: 'json',\n      type: 'post'\n    }\n  },\n  schema: {\n    model: {\n      id: '_id',\n      fields: {\n        manufacturer: {\n          type: 'string',\n          validation: {\n            required: true,\n            manufacturervalidation: (input) => {\n              if (input.is('[name=\"manufacturer\"]') && input.val() !== '') {\n                input.attr('data-manufacturervalidation-msg', 'Manufacturer name should start with capital letter')\n                return /^[A-Z]/.test(input.val())\n              }\n              return true\n            }\n          },\n          defaultValue: 'Mitsubishi'\n        },\n        model: {\n          type: 'string',\n          modelvalidation: {\n            required: true,\n            modelvalidation: (input) => {\n              if (input.is('[name=\"model\"]') && input.val() !== '') {\n                input.attr('data-modelvalidation-msg', 'Model name should start with capital letter')\n                return /^[A-Z]/.test(input.val())\n              }\n              return true\n            }\n          },\n          defaultValue: 'Lancer'\n        },\n        year: {\n          type: 'number',\n          validation: { required: true, min: 1996, max: 2017 }\n        },\n        kilometrage: {\n          type: 'number',\n          validation: { required: true, min: 1, max: 1000 }\n        },\n        price: {\n          type: 'number',\n          validation: { required: true, min: 1, max: 1000000 }\n        },\n        transmissionType: {\n          type: 'string',\n          validation: {\n            required: true,\n            transmissionvalidation: (input) => {\n              if (input.is('[name=\"transmissionType\"]') && input.val() !== '') {\n                input.attr('data-transmissionvalidation-msg', 'Transmission type should start with capital letter')\n                return /^[A-Z]/.test(input.val())\n              }\n              return true\n            }\n          },\n          defaultValue: 'Manual'\n        },\n        fuelType: {\n          type: 'string',\n          validation: {\n            required: true,\n            fuelvalidation: (input) => {\n              if (input.is('[name=\"fuelType\"]') && input.val() !== '') {\n                input.attr('data-fuelvalidation-msg', 'Fuel type should start with capital letter')\n                return /^[A-Z]/.test(input.val())\n              }\n              return true\n            }\n          },\n          defaultValue: 'Gasoline'\n        },\n        engineDisplacement: {\n          type: 'number',\n          validation: { required: true, min: 1, max: 10000 }\n        },\n        views: {\n          type: 'number',\n          validation: { required: true, min: 0 }\n        },\n        photos: {\n          defaultValue: ['https://img.memecdn.com/404-car-not-found_c_6767609.jpg']\n        }\n      }\n    }\n  },\n  pageSize: 10\n})\n\nexport const adminViewModel = kendo.observable({\n  cars: carData\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/admin.js\n// module id = 0\n// module chunks = 0","const baseUrl = 'http://localhost:3000/api/car/'\n\nconst carData = new kendo.data.DataSource({\n  transport: {\n    read: {\n      url: function () {\n        return baseUrl + location.hash.slice(2)\n      },\n      dataType: 'json'\n    }\n  }\n})\n\nexport const carViewModel = kendo.observable({\n  car: null,\n  show: () => {\n    carViewModel.set('car', carData)\n    carData.read()\n  }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/car.js\n// module id = 1\n// module chunks = 0","const manufacturersUrl = 'http://localhost:3000/api/manufacturers/'\nconst baseModelsUrl = 'http://localhost:3000/api/models/'\n\nconst filterDefaults = {\n  selectedManufacturer: null,\n  selectedModel: null,\n  years: [1996, 2017],\n  price: [0, 1000000],\n  transmission: '',\n  fuelType: '',\n  kilometrage: 0,\n  engineDisplacement: 0,\n  isModelEnabled: false\n}\n\nconst manufacturersData = new kendo.data.DataSource({\n  transport: {\n    read: {\n      url: manufacturersUrl,\n      dataType: 'json'\n    }\n  }\n})\n\nconst modelsData = new kendo.data.DataSource({\n  transport: {\n    read: {\n      url: function () {\n        return baseModelsUrl + filterViewModel.get('selectedManufacturer')\n      },\n      dataType: 'json'\n    }\n  }\n})\n\nconst carsData = new kendo.data.DataSource({\n  transport: {\n    read: {\n      url: 'http://localhost:3000/api/cars',\n      dataType: 'json'\n    }\n  }\n})\n\nexport const filterViewModel = kendo.observable({\n  cars: carsData,\n  selectedManufacturer: null,\n  years: [1996, 2017],\n  price: [0, 1000000],\n  transmission: '',\n  fuelType: '',\n  kilometrage: 0,\n  engineDisplacement: 0,\n  manufacturers: manufacturersData,\n  manufacturerOnChange: function () {\n    const manufacturer = this.get('selectedManufacturer')\n    if ((manufacturer !== null) && (manufacturer !== '')) {\n      this.set('isModelEnabled', true)\n      this.set('selectedModel', null)\n      this.models.read()\n    } else {\n      if (manufacturer === '') {\n        this.set('selectedModel', null)\n      }\n      this.set('isModelEnabled', false)\n    }\n    this.changeRoute()\n  },\n  isModelEnabled: false,\n  selectedModel: null,\n  models: modelsData,\n  applyFilter: applyFilter,\n  changeDisplacement: function () {\n    let disp = this.get('engineDisplacement')\n    if ((disp < 100) && (disp > 0)) {\n      disp = 100\n    } else {\n      disp = Math.round(disp / 100) * 100\n    }\n    this.set('engineDisplacement', disp)\n    this.changeRoute()\n  },\n  changeRoute: changeRoute,\n  resetFilter: resetFilter,\n  setUrlParams: setUrlParams,\n  router: null,\n  setRouter: function (router) {\n    this.set('router', router)\n  }\n})\n\nfunction resetFilter () {\n  this.set('selectedManufacturer', filterDefaults.selectedManufacturer)\n  this.set('selectedModel', filterDefaults.selectedModel)\n  this.set('isModelEnabled', filterDefaults.isModelEnabled)\n  this.set('years', filterDefaults.years)\n  this.set('price', filterDefaults.price)\n  this.set('transmission', filterDefaults.transmission)\n  this.set('fuelType', filterDefaults.fuelType)\n  this.set('kilometrage', filterDefaults.kilometrage)\n  this.set('engineDisplacement', filterDefaults.engineDisplacement)\n  const router = this.get('router')\n  router.navigate('/filter')\n}\n\nfunction changeRoute () {\n  const router = this.get('router')\n  const manufacturer = this.get('selectedManufacturer')\n  const model = this.get('selectedModel')\n  const years = this.get('years')\n  const price = this.get('price')\n  const transmission = this.get('transmission')\n  const fuelType = this.get('fuelType')\n  const kilometrage = this.get('kilometrage')\n  const displacement = this.get('engineDisplacement')\n  let newParams = {}\n  if ((manufacturer !== null) && (manufacturer !== '')) {\n    newParams.manufacturer = manufacturer\n  }\n  if ((model !== null) && (model !== '')) {\n    newParams.model = model\n  }\n  if (transmission !== '') {\n    newParams.transmission = transmission\n  }\n  if (fuelType !== '') {\n    newParams.fuelType = fuelType\n  }\n  if (kilometrage !== 0) {\n    newParams.kilometrage = kilometrage\n  }\n  if (displacement !== 0) {\n    newParams.engineDisplacement = displacement\n  }\n  newParams.yearFrom = years[0]\n  newParams.yearTo = years[1]\n  newParams.priceFrom = price[0]\n  newParams.priceTo = price[1]\n  let newUrl = '/filter'\n  const newParamsUrl = $.param(newParams)\n  if (newParamsUrl !== '') {\n    newUrl += '?' + newParamsUrl\n  }\n  router.navigate(newUrl)\n}\n\nfunction setUrlParams (params) {\n  if (typeof params.manufacturer !== 'undefined') {\n    this.set('selectedManufacturer', params.manufacturer)\n    this.set('isModelEnabled', true)\n    if (typeof params.model !== 'undefined') {\n      this.set('selectedModel', params.model)\n    }\n  }\n  if ((typeof params.yearFrom !== 'undefined') && (typeof params.yearTo !== 'undefined')) {\n    let from = parseInt(params.yearFrom, 10)\n    let to = parseInt(params.yearTo, 10)\n    from = from < 1996 ? 1996 : from\n    to = to > 2017 ? 2017 : to\n    const newYears = [from, to]\n    this.set('years', newYears)\n  }\n  if ((typeof params.priceFrom !== 'undefined') && (typeof params.priceTo !== 'undefined')) {\n    let from = parseInt(params.priceFrom, 10)\n    let to = parseInt(params.priceTo, 10)\n    from = from < 0 ? 0 : from\n    to = to > 1000000 ? 1000000 : to\n    const newPrice = [from, to]\n    this.set('price', newPrice)\n  }\n  if (typeof params.transmission !== 'undefined') {\n    this.set('transmission', params.transmission)\n  }\n  if (typeof params.fuelType !== 'undefined') {\n    this.set('fuelType', params.fuelType)\n  }\n  if (typeof params.kilometrage !== 'undefined') {\n    let kilometrage = parseInt(params.kilometrage, 10)\n    kilometrage = kilometrage < 0 ? 0 : kilometrage\n    kilometrage = kilometrage > 1000 ? 1000 : kilometrage\n    this.set('kilometrage', kilometrage)\n  }\n  if (typeof params.engineDisplacement !== 'undefined') {\n    let displacement = parseInt(params.engineDisplacement, 10)\n    displacement = displacement < 0 ? 0 : displacement\n    displacement = displacement > 10000 ? 10000 : displacement\n    this.set('engineDisplacement', displacement)\n  }\n  this.applyFilter()\n}\n\nfunction applyFilter () {\n  const manufacturer = this.get('selectedManufacturer')\n  const model = this.get('selectedModel')\n  const years = this.get('years')\n  const price = this.get('price')\n  const transmission = this.get('transmission')\n  const fuelType = this.get('fuelType')\n  const kilometrage = this.get('kilometrage')\n  const displacement = this.get('engineDisplacement')\n  let cars = this.get('cars')\n  let filter = []\n  if ((manufacturer !== null) && (manufacturer !== '')) {\n    filter.push({\n      field: 'manufacturer',\n      operator: 'eq',\n      value: manufacturer\n    })\n  }\n  if ((model !== null) && (model !== '')) {\n    filter.push({\n      field: 'model',\n      operator: 'eq',\n      value: model\n    })\n  }\n  if (transmission !== '') {\n    filter.push({\n      field: 'transmissionType',\n      operator: 'eq',\n      value: transmission\n    })\n  }\n  if (fuelType !== '') {\n    filter.push({\n      field: 'fuelType',\n      operator: 'eq',\n      value: fuelType\n    })\n  }\n  if (kilometrage !== 0) {\n    filter.push({\n      field: 'kilometrage',\n      operator: 'lte',\n      value: kilometrage\n    })\n  }\n  if (displacement !== 0) {\n    filter.push({\n      field: 'engineDisplacement',\n      operator: 'eq',\n      value: displacement\n    })\n  }\n  filter.push({\n    field: 'year',\n    operator: 'gte',\n    value: years[0]\n  })\n  filter.push({\n    field: 'year',\n    operator: 'lte',\n    value: years[1]\n  })\n  filter.push({\n    field: 'price',\n    operator: 'gte',\n    value: price[0]\n  })\n  filter.push({\n    field: 'price',\n    operator: 'lte',\n    value: price[1]\n  })\n  cars.query({\n    filter: filter,\n    pageSize: 10,\n    page: 1,\n    sort: { field: 'views', dir: 'desc' }\n  })\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/filter.js\n// module id = 2\n// module chunks = 0","import { filterViewModel } from './filter.js'\nimport { carViewModel } from './car.js'\nimport { adminViewModel } from './admin.js'\n\n$.cloudinary.config({ cloud_name: 'dvgllaiei', api_key: '578424487719447' })\n\nconst url = 'http://localhost:3000/api/cars/most-popular/25'\n\nconst indexViewModel = kendo.observable({\n  cars: new kendo.data.DataSource({\n    transport: {\n      read: {\n        url: url,\n        dataType: 'json'\n      }\n    }\n  })\n})\n\nconst layout = new kendo.Layout('layout')\nconst index = new kendo.View('index', { model: indexViewModel })\nconst filter = new kendo.View('filter', { model: filterViewModel })\nconst admin = new kendo.View('admin', { model: adminViewModel })\nconst car = new kendo.View('car', {\n  model: carViewModel,\n  show: carViewModel.show\n})\nconst routeMissing = new kendo.View('routeMissing')\n\nconst router = new kendo.Router({\n  routeMissing: (e) => {\n    layout.showIn('#content', routeMissing)\n  }\n})\n\nrouter.bind('init', () => {\n  layout.render($('#app'))\n})\n\nrouter.route('/', () => {\n  layout.showIn('#content', index)\n})\n\nrouter.route('/filter', (params) => {\n  filterViewModel.setRouter(router)\n  filterViewModel.setUrlParams(params)\n  layout.showIn('#content', filter)\n})\n\nrouter.route('/admin', () => {\n  layout.showIn('#content', admin)\n})\n\nrouter.route('/:carId', (carId) => {\n  layout.showIn('#content', car)\n})\n\n$(() => {\n  router.start()\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/index.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}